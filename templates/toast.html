<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Tailwind CSS Toast with Progress Bar</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    @keyframes slideInRight {
      from {
        transform: translateX(100%);
        opacity: 0;
      }

      to {
        transform: translateX(0);
        opacity: 1;
      }
    }

    .toast-enter {
      animation: slideInRight 0.3s ease-out forwards;
    }

    .toast-exit {
      animation: slideInRight 0.3s ease-out reverse forwards;
    }

    .progress-bar {
      height: 4px;
      width: 100%;
      background-color: rgba(255, 255, 255, 0.3);
      border-radius: 0 0 8px 8px;
      overflow: hidden;
      position: relative;
    }

    .progress-fill {
      height: 100%;
      width: 100%;
      transform-origin: left;
      transition: transform linear;
    }
  </style>
</head>

<body class="bg-gray-100 min-h-screen flex items-center justify-center p-4">
  <div class="max-w-md w-full">
    <div class="bg-white rounded-lg shadow-md p-6">
      <h1 class="text-2xl font-bold text-gray-800 mb-2">Toast with Progress Bar</h1>
      <p class="text-gray-600 mb-6">Click the buttons below to show different types of toast notifications with progress
        bars.</p>

      <div class="flex flex-wrap gap-3">
        <button id="successToast"
          class="px-4 py-2 bg-green-500 text-white rounded hover:bg-green-600 transition-colors">
          Success Toast
        </button>
        <button id="errorToast" class="px-4 py-2 bg-red-500 text-white rounded hover:bg-red-600 transition-colors">
          Error Toast
        </button>
        <button id="warningToast"
          class="px-4 py-2 bg-yellow-500 text-white rounded hover:bg-yellow-600 transition-colors">
          Warning Toast
        </button>
        <button id="infoToast" class="px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600 transition-colors">
          Info Toast
        </button>
        <button id="customToast"
          class="px-4 py-2 bg-purple-500 text-white rounded hover:bg-purple-600 transition-colors">
          Custom Duration
        </button>
      </div>

      <div class="mt-6 p-4 bg-gray-50 rounded-lg">
        <h2 class="text-lg font-semibold text-gray-700 mb-2">Features:</h2>
        <ul class="list-disc list-inside text-gray-600 space-y-1">
          <li>Progress bar shows remaining time</li>
          <li>Progress pauses on hover</li>
          <li>Auto-dismiss after specified duration</li>
          <li>Manual dismissal with close button</li>
          <li>Multiple toast types with appropriate colors</li>
        </ul>
      </div>
    </div>
  </div>

  <!-- Toast Container -->
  <div id="toastContainer" class="fixed bottom-4 right-4 z-50 flex flex-col gap-3 max-w-sm"></div>

  <script>
    // Toast types configuration
    const toastTypes = {
      success: {
        bgColor: 'bg-green-500',
        progressColor: 'bg-green-200',
        icon: `
                    <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                        <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd"/>
                    </svg>
                `
      },
      error: {
        bgColor: 'bg-red-500',
        progressColor: 'bg-red-200',
        icon: `
                    <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                        <path fill-rule="evenodd" d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z" clip-rule="evenodd"/>
                    </svg>
                `
      },
      warning: {
        bgColor: 'bg-yellow-500',
        progressColor: 'bg-yellow-200',
        icon: `
                    <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                        <path fill-rule="evenodd" d="M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z" clip-rule="evenodd"/>
                    </svg>
                `
      },
      info: {
        bgColor: 'bg-blue-500',
        progressColor: 'bg-blue-200',
        icon: `
                    <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                        <path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z" clip-rule="evenodd"/>
                    </svg>
                `
      },
      custom: {
        bgColor: 'bg-purple-500',
        progressColor: 'bg-purple-200',
        icon: `
                    <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                        <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm1-12a1 1 0 10-2 0v4a1 1 0 00.293.707l2.828 2.829a1 1 0 101.415-1.415L11 9.586V6z" clip-rule="evenodd"/>
                    </svg>
                `
      }
    };

    // Toast creation function
    function createToast(type, message, duration = 5000) {
      const toastContainer = document.getElementById('toastContainer');
      const toastId = 'toast-' + Date.now();

      const toast = document.createElement('div');
      toast.id = toastId;
      toast.className = `toast-enter relative flex flex-col rounded-lg shadow-lg text-white ${toastTypes[type].bgColor} overflow-hidden transform transition-all duration-300`;

      // Create progress bar
      const progressBar = document.createElement('div');
      progressBar.className = 'progress-bar';

      const progressFill = document.createElement('div');
      progressFill.className = `progress-fill ${toastTypes[type].progressColor}`;

      // Set initial progress
      progressFill.style.transform = 'scaleX(1)';

      progressBar.appendChild(progressFill);

      // Main toast content
      toast.innerHTML = `
                <div class="flex items-center p-4">
                    <div class="flex-shrink-0 mr-3">
                        ${toastTypes[type].icon}
                    </div>
                    <div class="flex-grow">
                        <p class="font-medium">${message}</p>
                    </div>
                    <button class="flex-shrink-0 ml-3 text-white hover:text-gray-200 transition-colors" onclick="dismissToast('${toastId}')">
                        <svg class="w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z" clip-rule="evenodd"/>
                        </svg>
                    </button>
                </div>
            `;

      // Add progress bar to toast
      toast.appendChild(progressBar);

      // Add to container
      toastContainer.appendChild(toast);

      // Progress bar animation
      let startTime = Date.now();
      let remaining = duration;
      let progressInterval;
      let isPaused = false;

      const updateProgress = () => {
        const elapsed = Date.now() - startTime;
        const progress = 1 - (elapsed / duration);

        if (progress <= 0) {
          clearInterval(progressInterval);
          dismissToast(toastId);
        } else if (!isPaused) {
          progressFill.style.transform = `scaleX(${progress})`;
        }
      };

      // Start progress animation
      progressInterval = setInterval(updateProgress, 50);

      // Pause on hover
      toast.addEventListener('mouseenter', () => {
        isPaused = true;
      });

      // Resume on mouse leave
      toast.addEventListener('mouseleave', () => {
        isPaused = false;
        startTime = Date.now() - (duration - remaining);
      });

      // Update remaining time periodically
      const remainingInterval = setInterval(() => {
        if (!isPaused) {
          const elapsed = Date.now() - startTime;
          remaining = duration - elapsed;

          if (remaining <= 0) {
            clearInterval(remainingInterval);
          }
        }
      }, 100);

      // Clean up intervals when toast is dismissed
      toast.cleanup = () => {
        clearInterval(progressInterval);
        clearInterval(remainingInterval);
      };
    }

    // Dismiss toast function
    function dismissToast(toastId) {
      const toast = document.getElementById(toastId);
      if (toast) {
        // Clean up intervals
        if (toast.cleanup) {
          toast.cleanup();
        }

        toast.classList.remove('toast-enter');
        toast.classList.add('toast-exit');

        setTimeout(() => {
          if (toast.parentNode) {
            toast.parentNode.removeChild(toast);
          }
        }, 300);
      }
    }

    // Event listeners for demo buttons
    document.getElementById('successToast').addEventListener('click', () => {
      createToast('success', 'Operation completed successfully!');
    });

    document.getElementById('errorToast').addEventListener('click', () => {
      createToast('error', 'An error occurred. Please try again.');
    });

    document.getElementById('warningToast').addEventListener('click', () => {
      createToast('warning', 'Warning: This action cannot be undone.');
    });

    document.getElementById('infoToast').addEventListener('click', () => {
      createToast('info', 'Here is some information for you.');
    });

    document.getElementById('customToast').addEventListener('click', () => {
      createToast('custom', 'This toast has a custom duration of 8 seconds.', 8000);
    });
  </script>
</body>

</html>